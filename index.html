<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ishaq NETLIVE </title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0b0b0f;color:#fff;min-height:100vh}
header{padding:20px 40px;font-size:24px;font-weight:700;letter-spacing:1px;background:#0b0b0f;border-bottom:1px solid rgba(229,9,20,0.4);color:#e50914}
.hero{padding:60px 40px 40px 40px}
.hero h1{font-size:42px;font-weight:700;margin-bottom:10px;color:#e50914}
.hero p{opacity:0.6;font-size:16px}
.section{padding:30px 40px 60px 40px}
.section h2{margin-bottom:20px;font-size:20px;font-weight:500;color:#fff}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px}
.card{background:#15151c;border-radius:12px;padding:30px 10px;text-align:center;cursor:pointer;transition:all .25s ease;border:1px solid rgba(229,9,20,0.15);font-weight:500}
.card:hover{transform:translateY(-6px);background:#1f1f29;border-color:#e50914;box-shadow:0 8px 25px rgba(229,9,20,0.4);color:#e50914}
.player-container{display:none;position:fixed;inset:0;background:#000;justify-content:center;align-items:center;flex-direction:column;z-index:999}
video{width:90%;max-width:1200px;border-radius:12px;box-shadow:0 0 40px rgba(229,9,20,0.5)}
.close-btn{position:absolute;top:20px;right:30px;font-size:30px;cursor:pointer;color:#e50914}
.link-switch{margin-top:20px}
.link-switch button{padding:10px 20px;margin:5px;background:#15151c;color:#fff;border:1px solid rgba(229,9,20,0.4);border-radius:8px;cursor:pointer;transition:0.3s}
.link-switch button:hover{background:#e50914}
@media(max-width:768px){
  header{padding:15px 20px;font-size:20px}
  .hero{padding:40px 20px}
  .hero h1{font-size:28px}
  .section{padding:20px}
  .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
}
</style>
</head>
<body>

<header>Ishaq NETLIVE </header>

<div class="hero">
  <h1>تماشای زنده شبکه‌ها</h1>
  <p>پخش سریع و بدون پیچیدگی</p>
</div>

<div class="section">
  <h2>شبکه های زنده</h2>

  <div class="grid">

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/tolo/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:tolotv.smil/chunklist_w594705989_b5128000.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=3&platform=web',
       'https://stream1.liveland.af/hls/tv/tolo/chunklist0.m3u8'
    )">طلوع</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/varzesh/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:irvarzeshtv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=12&platform=web'
    )">ورزش</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/irib-3/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:iribtv3.smil/chunklist_w1952007214_b5128000.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=11&platform=web'
    )">شبکه سه</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/persiana-sports/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:persiasptv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=15&platform=web'
    )">پرشیا اسپورت</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/solh-sports/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:solhetv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=23&platform=web'
    )">صلح اسپورت</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/ariana/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:atntv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=21&platform=web'
    )">آریانا</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/arezo/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:arezotv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=31&platform=web'
    )">آرزو</div>

    <div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/meraj/chunklist0.m3u8',
      'https://stream1.liveland.af/hls/tv/meraj/chunklist0.m3u8'
    )">معراج</div>

    <div class="card" onclick="openPlayerDual(
      'https://kbl-stream.movie.af/live/smil:gemtv.smil/playlist.m3u8?profileId=4c6cc9e1-a8f9-405a-ba3d-a95b05dc555a&channelId=32&platform=web'
    )">شبکه جیم</div>
<div class="card" onclick="openPlayerDual(
      'https://stream1.liveland.af/hls/tv/persiana-sports-2/chunklist0.m3u8',
      'https://kbl-stream.movie.af/live/smil:persianasp2.smil/playlist.m3u8?profileId=a53a5d27-2242-444e-b013-6706e4e9ba1b&channelId=20&platform=web'
    )"> 2 پرشیا اسپورت</div>
    
  </div>
</div>

<div class="player-container" id="playerContainer">
  <div class="close-btn" onclick="closePlayer()">✕</div>
  <video id="video" controls autoplay playsinline></video>

  <div class="link-switch"><button onclick="switchLink(1)">لینک 1</button>
    <button onclick="switchLink(2)">لینک 2</button>
    <button onclick="switchLink(3)">لینک 3</button>
  </div>
</div>

<script>
let hls;
const video=document.getElementById('video');
const container=document.getElementById('playerContainer');
let currentLink1="";
let currentLink2="";

function openPlayer(url){
  container.style.display="flex";

  if(hls){ hls.destroy(); }

  if(Hls.isSupported()){
    hls=new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);

    // خودکار سوئیچ روی لینک دوم اگر لینک اول قطع شد
    hls.on(Hls.Events.ERROR,(event,data)=>{
      if(data.fatal && data.type==='networkError'){
        if(url===currentLink1 && currentLink2!==""){
          openPlayer(currentLink2);
        }
      }
    });

  }else if(video.canPlayType('application/vnd.apple.mpegurl')){
    video.src=url;
  }
}

function openPlayerDual(link1,link2){
  currentLink1=link1;
  currentLink2=link2;
  openPlayer(link1);
}

function switchLink(number){
  if(number===1){ openPlayer(currentLink1); }
  else{ openPlayer(currentLink2); }
}

function closePlayer(){
  container.style.display="none";
  video.pause();
  if(hls){ hls.destroy(); }
}
</script>

</body>
</html>
