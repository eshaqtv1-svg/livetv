<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ishaq TV ULTRA VIP</title>

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
body{
margin:0;
font-family:'Vazirmatn',sans-serif;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:#fff;
text-align:center;
}

header{
padding:25px;
font-size:28px;
font-weight:bold;
background:rgba(0,0,0,0.4);
backdrop-filter:blur(15px);
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:25px;
padding:30px;
max-width:1300px;
margin:auto;
}

.card{
padding:20px;
border-radius:25px;
background:rgba(255,255,255,0.1);
backdrop-filter:blur(20px);
cursor:pointer;
transition:0.3s;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
}

.card img{
width:80px;
height:80px;
object-fit:contain;
margin-bottom:10px;
}

.card span{
font-size:16px;
font-weight:bold;
}

.card:hover{
transform:scale(1.07);
background:rgba(255,255,255,0.25);
}

#playerPage{
display:none;
padding:20px;
}

video{
width:95%;
max-width:1100px;
border-radius:25px;
box-shadow:0 0 50px rgba(0,0,0,0.7);
}

.controls{
margin-top:15px;
}

button{
padding:10px 20px;
margin:5px;
border:none;
border-radius:30px;
cursor:pointer;
font-weight:bold;
background:#00c6ff;
color:#000;
transition:0.3s;
}

button:hover{
background:#0072ff;
color:#fff;
}
</style>
</head>
<body>

<header>ðŸ”¥ Ishaq TV ULTRA VIP ðŸ”¥</header>

<div id="homePage">
<div class="grid">

<div class="card" onclick="openChannel('ir3','IRIB 3')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993719-124056621.svg">
<span>IRIB 3</span>
</div>

<div class="card" onclick="openChannel('tolo','TOLO')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993521-914660414.svg">
<span>TOLO</span>
</div>

<div class="card" onclick="openChannel('sportsaf','Sports AF')">
<img src="https://cdn1.movieland.af/images/channels-logos/1768027145119-177342014.svg">
<span>Sports AF</span>
</div>

<div class="card" onclick="openChannel('aryana','ARYANA')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993561-302702845.svg">
<span>ARYANA</span>
</div>

<div class="card" onclick="openChannel('arazo','ARAZO')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993620-281627637.svg">
<span>ARAZO</span>
</div>

<div class="card" onclick="openChannel('sohlsport','SOHL SPORT')">
<img src="https://cdn1.movieland.af/images/channels-logos/1769243953209-579707064.svg">
<span>SOHL SPORT</span>
</div>

<div class="card" onclick="openChannel('mhraj','MHRAJ')">
<img src="https://cdn1.movieland.af/images/channels-logos/1769234333004-354961839.svg">
<span>MHRAJ</span>
</div>

<div class="card" onclick="openChannel('varzish','VARZISH')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993702-549827287.svg">
<span>VARZISH</span>
</div>

<div class="card" onclick="openChannel('sportpersia','Sport Persia')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993686-807307490.svg">
<span>Sport Persia</span>
</div>

<div class="card" onclick="openChannel('sportpersia2','Sport Persia 2')">
<img src="https://cdn1.movieland.af/images/channels-logos/1763529079539-200808624.svg">
<span>Sport Persia 2</span>
</div>

</div>
</div>

<div id="playerPage">
<h2 id="channelTitle"></h2>
<video id="video" controls autoplay></video>

<div class="controls">
<button onclick="switchSource('s1')">Source 1</button>
<button onclick="switchSource('s2')">Source 2</button>
<button onclick="goBack()">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
</div>
</div>

<script>

let currentChannel="";
let currentSource="s1";
let hls;

function openChannel(channel,name){
currentChannel=channel;
currentSource="s1";
document.getElementById("channelTitle").innerText=name;
document.getElementById("homePage").style.display="none";
document.getElementById("playerPage").style.display="block";
loadStream();
}

function loadStream(){
const video=document.getElementById("video");
const url=`https://ishaq-proxy.eshaqtv1.workers.dev/${currentChannel}/${currentSource}/chunklist0.m3u8`;

if(hls){ hls.destroy(); }

if(Hls.isSupported()){
hls=new Hls();
hls.loadSource(url);
hls.attachMedia(video);

hls.on(Hls.Events.ERROR,function(event,data){
if(data.fatal && currentSource==="s1"){
currentSource="s2";
loadStream();
}
});

}else if(video.canPlayType('application/vnd.apple.mpegurl')){
video.src=url;
}
}

function switchSource(source){
currentSource=source;
loadStream();
}

function goBack(){
if(hls){ hls.destroy(); }
document.getElementById("playerPage").style.display="none";
document.getElementById("homePage").style.display="block";
}

</script>

</body>
</html>
