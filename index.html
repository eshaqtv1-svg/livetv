<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ishaq NETLIVE Ultra</title>

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Vazirmatn',sans-serif;background:#06060c;color:#fff}
header{padding:20px 40px;font-size:24px;font-weight:900;background:#0c0c18}
.hero{text-align:center;padding:50px 20px;background:linear-gradient(180deg,#111,#06060c)}
.hero h1{font-size:38px;background:linear-gradient(90deg,#00f2fe,#4facfe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:25px;padding:40px;max-width:1300px;margin:auto}
.card{background:#10101a;padding:25px;border-radius:20px;text-align:center;cursor:pointer;transition:.3s}
.card:hover{transform:scale(1.07);box-shadow:0 0 30px #00f2fe}
.card img{width:80px;height:80px;object-fit:contain;margin-bottom:10px}
.card span{font-weight:700}
#playerPage{display:none;padding:40px;text-align:center}
video{width:95%;max-width:1200px;border-radius:20px;background:#000}
button{padding:10px 25px;margin:10px;border:none;border-radius:30px;font-weight:700;cursor:pointer;background:linear-gradient(45deg,#00f2fe,#4facfe);color:#000}
button:hover{transform:scale(1.1)}
</style>
</head>
<body>

<header>Ishaq NETLIVE Ultra</header>

<div class="hero">
<h1>Premium Live Streaming</h1>
</div>

<div id="homePage">
<div class="grid">

<div class="card" onclick="openChannel('ir3','IRIB 3')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993719-124056621.svg">
<span>IRIB 3</span></div>

<div class="card" onclick="openChannel('tolo','TOLO')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993521-914660414.svg">
<span>TOLO</span></div>

<div class="card" onclick="openChannel('sportsaf','Sports AF')">
<img src="https://cdn1.movieland.af/images/channels-logos/1768027145119-177342014.svg">
<span>Sports AF</span></div>

<div class="card" onclick="openChannel('aryana','ARYANA')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993561-302702845.svg">
<span>ARYANA</span></div>

<div class="card" onclick="openChannel('arazo','ARAZO')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993620-281627637.svg">
<span>ARAZO</span></div>

<div class="card" onclick="openChannel('sohlsport','SOHL SPORT')">
<img src="https://cdn1.movieland.af/images/channels-logos/1769243953209-579707064.svg">
<span>SOHL SPORT</span></div>

<div class="card" onclick="openChannel('mhraj','MHRAJ')">
<img src="https://cdn1.movieland.af/images/channels-logos/1769234333004-354961839.svg">
<span>MHRAJ</span></div>

<div class="card" onclick="openChannel('varzish','VARZISH')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993702-549827287.svg">
<span>VARZISH</span></div>

<div class="card" onclick="openChannel('sportpersia','Sport Persia')">
<img src="https://cdn1.movieland.af/images/channel-logos/1760950993686-807307490.svg">
<span>Sport Persia</span></div>

<div class="card" onclick="openChannel('sportpersia2','Sport Persia 2')">
<img src="https://cdn1.movieland.af/images/channels-logos/1763529079539-200808624.svg">
<span>Sport Persia 2</span></div>

</div>
</div>

<div id="playerPage">
<h2 id="channelTitle"></h2>
<video id="video" controls autoplay></video>
<br>
<button onclick="switchSource('s1')">Source 1</button>
<button onclick="switchSource('s2')">Source 2</button>
<button onclick="goBack()">Back</button>
</div>

<script>
let currentChannel="";
let currentSource="s1";
let hls;

const sources={
ir3:{s1:"ir3-s1",s2:"ir3-s2"},
tolo:{s1:"tolo-s1",s2:"tolo-s2"},
sportsaf:{s1:"sportsaf-s1"},
aryana:{s1:"aryana-s1",s2:"aryana-s2"},
arazo:{s1:"arazo-s1",s2:"arazo-s2"},
sohlsport:{s1:"sohlsport-s1",s2:"sohlsport-s2"},
mhraj:{s1:"mhraj-s1"},
varzish:{s1:"varzish-s1",s2:"varzish-s2"},
sportpersia:{s1:"sportpersia-s1",s2:"sportpersia-s2"},
sportpersia2:{s1:"sportpersia2-s1",s2:"sportpersia2-s2"}
};

function openChannel(channel,name){
currentChannel=channel;
currentSource="s1";
document.getElementById("channelTitle").innerText=name;
document.getElementById("homePage").style.display="none";
document.getElementById("playerPage").style.display="block";
loadStream();
}

function loadStream(){
const video=document.getElementById("video");
const url=`https://ishaq-proxy.eshaqtv1.workers.dev/${sources[currentChannel][currentSource]}`;

if(hls){hls.destroy();}

if(Hls.isSupported()){
hls=new Hls();
hls.loadSource(url);
hls.attachMedia(video);

hls.on(Hls.Events.ERROR,function(event,data){
if(data.fatal && currentSource==="s1" && sources[currentChannel].s2){
currentSource="s2";
loadStream();
}
});
}else{
video.src=url;
}
}

function switchSource(source){
if(sources[currentChannel][source]){
currentSource=source;
loadStream();
}
}

function goBack(){
if(hls){hls.destroy();}
document.getElementById("playerPage").style.display="none";
document.getElementById("homePage").style.display="block";
}
</script>

</body>
</html>
